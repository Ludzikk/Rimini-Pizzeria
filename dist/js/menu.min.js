"use strict";var orderBtn=document.querySelectorAll(".menu__btn"),orderAmount=document.querySelector(".order__amount"),cartBtn=document.querySelector(".order__btn"),cartList=document.querySelector(".order__list"),orderContainer=document.querySelector(".order"),closeBtn=document.querySelector(".order__close"),valueOfCart=document.querySelector(".order__money"),everyFood={margherita:{name:"Margherita",cost:18},diabelska:{name:"Diabelska",cost:24},wiejska:{name:"Wiejska",cost:20},serowa:{name:"Serowa",cost:19},frytki:{name:"Frytki",cost:12},ziemniaczki:{name:"Ziemniaczki",cost:13},sos:{name:"Sos czosnkowy, keczup",cost:2},napoj:{name:"Napój",cost:8}};function addToOrder(){switch(parseInt(this.id)){case 1:null===sessionStorage.getItem("Margherita")?sessionStorage.setItem("Margherita",1):null!==sessionStorage.getItem("Margherita")&&(e=sessionStorage.getItem("Margherita"),sessionStorage.setItem("Margherita",parseInt(e)+1));break;case 2:null===sessionStorage.getItem("Diabelska")?sessionStorage.setItem("Diabelska",1):null!==sessionStorage.getItem("Diabelska")&&(e=sessionStorage.getItem("Diabelska"),sessionStorage.setItem("Diabelska",parseInt(e)+1));break;case 3:null===sessionStorage.getItem("Wiejska")?sessionStorage.setItem("Wiejska",1):null!==sessionStorage.getItem("Wiejska")&&(e=sessionStorage.getItem("Wiejska"),sessionStorage.setItem("Wiejska",parseInt(e)+1));break;case 4:null===sessionStorage.getItem("Serowa")?sessionStorage.setItem("Serowa",1):null!==sessionStorage.getItem("Serowa")&&(e=sessionStorage.getItem("Serowa"),sessionStorage.setItem("Serowa",parseInt(e)+1));break;case 5:null===sessionStorage.getItem("Frytki")?sessionStorage.setItem("Frytki",1):null!==sessionStorage.getItem("Frytki")&&(e=sessionStorage.getItem("Frytki"),sessionStorage.setItem("Frytki",parseInt(e)+1));break;case 6:null===sessionStorage.getItem("Ziemnaczki")?sessionStorage.setItem("Ziemnaczki",1):null!==sessionStorage.getItem("Ziemnaczki")&&(e=sessionStorage.getItem("Ziemnaczki"),sessionStorage.setItem("Ziemnaczki",parseInt(e)+1));break;case 7:null===sessionStorage.getItem("Sos")?sessionStorage.setItem("Sos",1):null!==sessionStorage.getItem("Sos")&&(e=sessionStorage.getItem("Sos"),sessionStorage.setItem("Sos",parseInt(e)+1));break;case 8:var e;null===sessionStorage.getItem("Napoj")?sessionStorage.setItem("Napoj",1):null!==sessionStorage.getItem("Napoj")&&(e=sessionStorage.getItem("Napoj"),sessionStorage.setItem("Napoj",parseInt(e)+1))}checkAmount()}var checkAmount=function(){var e=0;null!==sessionStorage.getItem("Margherita")&&(e+=parseInt(sessionStorage.getItem("Margherita"))),null!==sessionStorage.getItem("Diabelska")&&(e+=parseInt(sessionStorage.getItem("Diabelska"))),null!==sessionStorage.getItem("Wiejska")&&(e+=parseInt(sessionStorage.getItem("Wiejska"))),null!==sessionStorage.getItem("Serowa")&&(e+=parseInt(sessionStorage.getItem("Serowa"))),null!==sessionStorage.getItem("Frytki")&&(e+=parseInt(sessionStorage.getItem("Frytki"))),null!==sessionStorage.getItem("Ziemnaczki")&&(e+=parseInt(sessionStorage.getItem("Ziemnaczki"))),null!==sessionStorage.getItem("Sos")&&(e+=parseInt(sessionStorage.getItem("Sos"))),null!==sessionStorage.getItem("Napoj")&&(e+=parseInt(sessionStorage.getItem("Napoj"))),orderAmount.textContent=e},createItems=function(){var e,t,s,r,o;document.querySelectorAll(".order__item").forEach(function(e){e.remove()}),null!==sessionStorage.getItem("Margherita")&&(r=document.createElement("li"),o=document.createElement("div"),s=document.createElement("p"),t=document.createElement("p"),e=document.createElement("p"),r.setAttribute("class","order__item"),o.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.margherita.name,t.setAttribute("class","order__howmany"),t.textContent=sessionStorage.getItem("Margherita")+"szt",e.setAttribute("class","order__price"),e.textContent=sessionStorage.getItem("Margherita")*everyFood.margherita.cost+"zł",o.append(t,e),r.append(s,o),cartList.append(r)),null!==sessionStorage.getItem("Diabelska")&&(t=document.createElement("li"),e=document.createElement("div"),s=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p"),t.setAttribute("class","order__item"),e.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.diabelska.name,o.setAttribute("class","order__howmany"),o.textContent=sessionStorage.getItem("Diabelska")+"szt",r.setAttribute("class","order__price"),r.textContent=sessionStorage.getItem("Diabelska")*everyFood.diabelska.cost+"zł",e.append(o,r),t.append(s,e),cartList.append(t)),null!==sessionStorage.getItem("Wiejska")&&(o=document.createElement("li"),r=document.createElement("div"),s=document.createElement("p"),e=document.createElement("p"),t=document.createElement("p"),o.setAttribute("class","order__item"),r.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.wiejska.name,e.setAttribute("class","order__howmany"),e.textContent=sessionStorage.getItem("Wiejska")+"szt",t.setAttribute("class","order__price"),t.textContent=sessionStorage.getItem("Wiejska")*everyFood.wiejska.cost+"zł",r.append(e,t),o.append(s,r),cartList.append(o)),null!==sessionStorage.getItem("Serowa")&&(e=document.createElement("li"),t=document.createElement("div"),s=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),e.setAttribute("class","order__item"),t.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.serowa.name,r.setAttribute("class","order__howmany"),r.textContent=sessionStorage.getItem("Serowa")+"szt",o.setAttribute("class","order__price"),o.textContent=sessionStorage.getItem("Serowa")*everyFood.serowa.cost+"zł",t.append(r,o),e.append(s,t),cartList.append(e)),null!==sessionStorage.getItem("Frytki")&&(r=document.createElement("li"),o=document.createElement("div"),s=document.createElement("p"),t=document.createElement("p"),e=document.createElement("p"),r.setAttribute("class","order__item"),o.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.frytki.name,t.setAttribute("class","order__howmany"),t.textContent=sessionStorage.getItem("Frytki")+"szt",e.setAttribute("class","order__price"),e.textContent=sessionStorage.getItem("Frytki")*everyFood.frytki.cost+"zł",o.append(t,e),r.append(s,o),cartList.append(r)),null!==sessionStorage.getItem("Ziemnaczki")&&(t=document.createElement("li"),e=document.createElement("div"),s=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p"),t.setAttribute("class","order__item"),e.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.ziemniaczki.name,o.setAttribute("class","order__howmany"),o.textContent=sessionStorage.getItem("Ziemnaczki")+"szt",r.setAttribute("class","order__price"),r.textContent=sessionStorage.getItem("Ziemniaczki")*everyFood.ziemniaczki.cost+"zł",e.append(o,r),t.append(s,e),cartList.append(t)),null!==sessionStorage.getItem("Sos")&&(o=document.createElement("li"),r=document.createElement("div"),s=document.createElement("p"),e=document.createElement("p"),t=document.createElement("p"),o.setAttribute("class","order__item"),r.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.sos.name,e.setAttribute("class","order__howmany"),e.textContent=sessionStorage.getItem("Sos")+"szt",t.setAttribute("class","order__price"),t.textContent=sessionStorage.getItem("Sos")*everyFood.sos.cost+"zł",r.append(e,t),o.append(s,r),cartList.append(o)),null!==sessionStorage.getItem("Napoj")&&(e=document.createElement("li"),t=document.createElement("div"),s=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),e.setAttribute("class","order__item"),t.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.napoj.name,r.setAttribute("class","order__howmany"),r.textContent=sessionStorage.getItem("Napoj")+"szt",o.setAttribute("class","order__price"),o.textContent=sessionStorage.getItem("Napoj")*everyFood.napojg.cost+"zł",t.append(r,o),e.append(s,t),cartList.append(e)),toggleCart(),setValueOfCart()},toggleCart=function(){orderContainer.classList.toggle("hidden")},setValueOfCart=function(){if(0!==orderAmount.textContent){var e=document.querySelectorAll(".order__price"),t=[],s=0;e.forEach(function(e){t.push(parseInt(e.textContent.slice(0,-2)))});for(var r=0;r<t.length;r++)s+=t[r];valueOfCart.textContent=s+"zł"}};orderBtn.forEach(function(e){e.addEventListener("click",addToOrder)}),cartBtn.addEventListener("click",createItems),closeBtn.addEventListener("click",toggleCart),checkAmount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuanMiXSwibmFtZXMiOlsib3JkZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvcmRlckFtb3VudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJ0QnRuIiwiY2FydExpc3QiLCJvcmRlckNvbnRhaW5lciIsImNsb3NlQnRuIiwibWFyZ2hlcml0YSIsInZhbHVlT2ZDYXJ0IiwibmFtZSIsImV2ZXJ5Rm9vZCIsImRpYWJlbHNrYSIsIndpZWpza2EiLCJzZXJvd2EiLCJmcnl0a2kiLCJ6aWVtbmlhY3praSIsInNvcyIsImNvc3QiLCJuYXBvaiIsImFkZFRvT3JkZXIiLCJpZCIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJjdXJyZW50QW1vdW50IiwiY2hlY2tBbW91bnQiLCJhbW91bnQiLCJwYXJzZUludCIsImNyZWF0ZUl0ZW1zIiwiaXRlbU5hbWUiLCJpdGVtIiwic2V0QXR0cmlidXRlIiwiaXRlbVJpZ2h0U2lkZSIsIml0ZW1BbW91bnQiLCJhZGRFdmVudExpc3RlbmVyIiwidGV4dENvbnRlbnQiLCJpdGVtUHJpY2UiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwidG9nZ2xlQ2FydCIsImNsYXNzTGlzdCIsInNldFZhbHVlT2ZDYXJ0IiwiYWxsSXRlbXMiLCJmb3JFYWNoIiwic3VtIiwibmFwb2pnIiwidG9nZ2xlIiwicHVzaCIsInNsaWNlIiwiaSIsImxlbmd0aCIsImJ0biJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsU0FBV0MsU0FBU0MsaUJBQWlCLFlBQVksRUFDakRDLFlBQWNGLFNBQVNHLGNBQWMsZ0JBQWdCLEVBRHJESixRQUFXQyxTQUFTQyxjQUFBQSxhQUFpQixFQUNyQ0MsU0FBV0YsU0FBV0csY0FBYyxjQUFDLEVBQ3JDQyxlQUFtQkQsU0FBQUEsY0FBYyxRQUFjLEVBQy9DRSxTQUFXTCxTQUFTRyxjQUFjLGVBQWUsRUFDakRHLFlBQWNOLFNBQVdHLGNBQWMsZUFBVSxFQUNqREksVUFBV1AsQ0FDakJRLFdBQU1DLENBQ05DLEtBQU1DLGFBQ0xILEtBQUFBLEVBR0EsRUFDQUksVUFGTyxDQUNQRixLQUFDLFlBQ0RFLEtBQUFBLEVBR0EsRUFDQUMsUUFGTyxDQUNQSCxLQUFDLFVBQ0RHLEtBQUFBLEVBR0EsRUFDQUMsT0FGSyxDQUNMSixLQUFDLFNBQ0RJLEtBQU0sRUFHTixFQUNBQyxPQUZLLENBQ0xMLEtBQUMsU0FDREssS0FBTSxFQUdOLEVBQ0FDLFlBRk8sQ0FDUE4sS0FBQyxjQUNETSxLQUFBQSxFQUdBLEVBQ0FDLElBRkNDLENBQ0RSLEtBQUMsd0JBQ0RPLEtBQUssQ0FHTCxFQUNBRSxNQUZLLENBQ0xULEtBQUMsUUFDRFMsS0FBSyxDQUdMLENBQ0QsRUFBQSxTQUFDQyxhQUVELE9BQVNBLFNBQUFBLEtBQWFDLEVBQUEsR0FDckIsS0FBQSxFQUNPLE9BQU5DLGVBQU1DLFFBQUEsWUFBQSxFQUVKRCxlQURHQSxRQUFlQyxhQUFRLENBQUEsRUFDYSxPQUF2Q0QsZUFBZUUsUUFBUSxZQUFnQixJQUN2Q0MsRUFBVUgsZUFBdUJDLFFBQUEsWUFBa0IsRUFFbkRELGVBRE1HLFFBQWEsYUFBR0gsU0FBc0JHLENBQWEsRUFBQyxDQUFBLEdBRzNELE1BQ0QsS0FEQyxFQUNLLE9BQU5ILGVBQU1DLFFBQUEsV0FBQSxFQUVKRCxlQURHQSxRQUFlQyxZQUFRLENBQUEsRUFDWSxPQUF0Q0QsZUFBZUUsUUFBUSxXQUFlLElBQ3RDQyxFQUFVSCxlQUF1QkMsUUFBQSxXQUFpQixFQUVsREQsZUFETUcsUUFBYSxZQUFHSCxTQUFlQyxDQUFRLEVBQVksQ0FBQSxHQUcxRCxNQUNELEtBREMsRUFDSyxPQUFORCxlQUFNQyxRQUFBLFNBQUEsRUFFSkQsZUFER0EsUUFBZUMsVUFBUSxDQUFBLEVBQ1UsT0FBcENELGVBQWVFLFFBQVEsU0FBYSxJQUNwQ0MsRUFBVUgsZUFBdUJDLFFBQVMsU0FBTSxFQUVoREQsZUFETUcsUUFBYSxVQUFHSCxTQUFlQyxDQUFRLEVBQVUsQ0FBQSxHQUd4RCxNQUNELEtBREMsRUFDSyxPQUFORCxlQUFNQyxRQUFBLFFBQUEsRUFFSkQsZUFER0EsUUFBZUMsU0FBUSxDQUFBLEVBQ1MsT0FBbkNELGVBQWVFLFFBQVEsUUFBWSxJQUNuQ0MsRUFBVUgsZUFBdUJDLFFBQVMsUUFBSyxFQUUvQ0QsZUFETUcsUUFBYSxTQUFHSCxTQUFlQyxDQUFRLEVBQVMsQ0FBQSxHQUd2RCxNQUNELEtBREMsRUFDSyxPQUFORCxlQUFNQyxRQUFBLFFBQUEsRUFFSkQsZUFER0EsUUFBZUMsU0FBUSxDQUFBLEVBQ1MsT0FBbkNELGVBQWVFLFFBQVEsUUFBWSxJQUNuQ0MsRUFBVUgsZUFBdUJDLFFBQVMsUUFBSyxFQUUvQ0QsZUFETUcsUUFBYSxTQUFHSCxTQUFlQyxDQUFRLEVBQVMsQ0FBQSxHQUd2RCxNQUNELEtBREMsRUFDSyxPQUFORCxlQUFNQyxRQUFBLFlBQUEsRUFFSkQsZUFER0EsUUFBZUMsYUFBUSxDQUFBLEVBQ2EsT0FBdkNELGVBQWVFLFFBQVEsWUFBZ0IsSUFDdkNDLEVBQVVILGVBQXVCQyxRQUFBLFlBQWtCLEVBRW5ERCxlQURNRyxRQUFhLGFBQUdILFNBQWVDLENBQVEsRUFBYSxDQUFBLEdBRzNELE1BQ0QsS0FEQyxFQUNLLE9BQU5ELGVBQU1DLFFBQUEsS0FBQSxFQUVKRCxlQURHQSxRQUFlQyxNQUFRLENBQUEsRUFDTSxPQUFoQ0QsZUFBZUUsUUFBYSxLQUFJLElBQ2hDQyxFQUFVSCxlQUF1QkMsUUFBTSxLQUFLLEVBRTVDRCxlQURNRyxRQUFhLE1BQUdILFNBQUFBLENBQXVCLEVBQU0sQ0FBQSxHQUdwRCxNQUNELEtBREMsRUFFQSxJQUVDRyxFQUhJLE9BQU5ILGVBQU1DLFFBQUEsT0FBQSxFQUVKRCxlQURHQSxRQUFlQyxRQUFRLENBQUEsRUFDUSxPQUFsQ0QsZUFBZUUsUUFBUSxPQUFXLElBQ2xDQyxFQUFVSCxlQUF1QkMsUUFBUSxPQUFLLEVBRTlDRCxlQURNRyxRQUFhLFFBQUdILFNBQWVDLENBQVEsRUFBUSxDQUFBLEVBSXhELENBRUFHLFlBQVcsQ0FDWixDQUVBLElBQ0tDLFlBQVUsV0FBZCxJQUVBQSxFQUFJTCxFQUVKLE9BQUFBLGVBQUFDLFFBQUEsWUFBQSxJQUVBSSxHQUFrQkMsU0FBU04sZUFBWUMsUUFBVyxZQUFBLENBQUEsR0FJUixPQUExQ0QsZUFBa0JDLFFBQVEsV0FBVyxJQUhwQ0ksR0FJZUMsU0FBR0EsZUFBU04sUUFBZUMsV0FBaUIsQ0FBQyxHQUlqQ0QsT0FBM0JLLGVBQWVKLFFBQUdLLFNBQVNOLElBQzVCSyxHQUFBQyxTQUFBTixlQUFBQyxRQUFBLFNBQUEsQ0FBQSxHQUlBLE9BQUFELGVBQUFDLFFBQUEsUUFBQSxJQUVBSSxHQUFrQkMsU0FBU04sZUFBYUMsUUFBUyxRQUFFLENBQUEsR0FJYixPQUF0Q0QsZUFBa0JDLFFBQVEsUUFBTyxJQVBoQ0ksR0FRZUMsU0FBR0EsZUFBU04sUUFBZUMsUUFBYyxDQUFDLEdBSWZBLE9BQTFDSSxlQUFlSixRQUFHSyxZQUFTTixJQUM1QkssR0FBQUMsU0FBQU4sZUFBQUMsUUFBQSxZQUFBLENBQUEsR0FLZ0IsT0FBWE0sZUFBY04sUUFBZE0sS0FBQUEsSUFDTEYsR0FBa0IzQixTQUFTQyxlQUFpQnNCLFFBQUEsS0FBQSxDQUFjLEdBSXhELE9BQUFELGVBQUFDLFFBQUEsT0FBQSxJQUVGSSxHQUFrQkMsU0FBU04sZUFBYUMsUUFBUyxPQUFFLENBQUEsR0FWbkRyQixZQWFPNEIsWUFBbUJILENBWjNCLEVBZ0JFSSxZQUFLQyxXQWJOLElBbU1DdkIsRUFDRHdCLEVBQ0FILEVBRU9JLEVBQ0hDLEVBMUxXSCxTQUFBQSxpQkFBc0IsY0FBZSxFQUVuREYsUUFBU00sU0FBQUEsR0FiVEwsRUFjQUcsT0FBVSxDQWJYLENBQUMsRUFpQmdCWCxPQURoQmMsZUFBVUQsUUFDVGQsWUFBQUEsSUFDRFcsRUFBQUEsU0FBb0JLLGNBQWFELElBQUFBLEVBQzdCSixFQUFnQmpDLFNBQUVpQyxjQUFjLEtBQUEsRUFDcEM1QixFQUFlTCxTQUFNc0MsY0FBQSxHQUFBLEVBQ3RCSixFQUFBbEMsU0FBQXNDLGNBQUEsR0FBQSxFQUVJaEIsRUFBY3RCLFNBQVNzQyxjQUFZLEdBQUssRUFkM0NQLEVBZ0JBQyxhQUFNQyxRQUFnQmpDLGFBQVNzQyxFQWYvQkwsRUFnQk1ILGFBQW9CUSxRQUFBQSxjQUFrQixFQWY1Q1IsRUFnQk1JLGFBQWFsQyxRQUFTc0MsYUFBYyxFQWYxQ1IsRUFnQk1PLFlBQVlyQyxVQUFTc0MsV0FBYzVCLEtBZnpDd0IsRUFpQktGLGFBQWEsUUFBUyxnQkFBYyxFQWhCekNFLEVBaUJBRCxZQUFjRCxlQUFzQlQsUUFBQSxZQUFlLEVBQUEsTUFoQm5EYyxFQWlCQVAsYUFBU0UsUUFBb0IsY0FBRSxFQWhCL0JLLEVBaUJBUCxZQWhCQ1IsZUFpQlVVLFFBQUFBLFlBQXNCLEVBQUFyQixVQUFBSCxXQUFpQlUsS0FBQSxLQWhCbERlLEVBaUJXRyxPQUFBQSxFQUFjZCxDQUFjLEVBaEJ2Q1MsRUFpQkFNLE9BQVNQLEVBQUNFLENBQXNCLEVBaEJoQzNCLFNBaUJBZ0MsT0FBVUQsQ0FBQUEsR0FJVyxPQUFyQi9CLGVBQWdCMEIsUUFBSyxXQUFBLElBQ3RCQSxFQUFBL0IsU0FBQXNDLGNBQUEsSUFBQSxFQUVJaEIsRUFBZUMsU0FBUWUsY0FBZSxLQUFNLEVBQ3pDUCxFQUFPL0IsU0FBU3NDLGNBQWMsR0FBSyxFQUNuQ0wsRUFBQUEsU0FBZ0JqQyxjQUFTc0MsR0FBQUEsRUFDekJSLEVBQVE5QixTQUFXc0MsY0FBYyxHQUFDLEVBakJ4Q1AsRUFtQkFDLGFBQWUsUUFBR2hDLGFBQVNzQyxFQWxCM0JMLEVBb0JLRCxhQUFhLFFBQVMsY0FBYyxFQW5CekNGLEVBb0JBRyxhQUFjRCxRQUFhLGFBQVMsRUFuQnBDRixFQW9CQUEsWUFBU0UsVUFBb0JwQixVQUFFRixLQW5CL0J3QixFQW9CQUosYUFBb0IsUUFBR25CLGdCQUFzQixFQW5CN0N1QixFQW9CQUEsWUFBV0YsZUFBc0JULFFBQUEsV0FBaUIsRUFBQSxNQW5CbERjLEVBb0JBSCxhQUFXRSxRQUFjZCxjQUFlQyxFQW5CeENjLEVBb0JBQSxZQW5CQ2YsZUFvQlNjLFFBQUFBLFdBQ1RkLEVBQUFBLFVBQWVDLFVBQVFMLEtBQWFQLEtBcEJyQ3NCLEVBcUJBQSxPQUFjTSxFQUFPTCxDQUFZRyxFQXBCakNOLEVBcUJBQSxPQUFLUSxFQUFPVCxDQUFVRyxFQXBCdEI1QixTQXFCQUEsT0FBU2tDLENBQU9SLEdBSW9CLE9BQXBDVCxlQUFhdEIsUUFBU3NDLFNBQUFBLElBQ2hCTCxFQUFBQSxTQUFhSyxjQUFZQSxJQUFBQSxFQUN6QlIsRUFBVzlCLFNBQVNzQyxjQUFpQixLQUFDLEVBQ3RDSixFQUFBQSxTQUFhbEMsY0FBU3NDLEdBQWEsRUFDbkNELEVBQVNyQyxTQUFXc0MsY0FBYyxHQUFDLEVBRXpDUCxFQUFLQyxTQUFhTSxjQUFTLEdBQWEsRUFyQnhDUCxFQXVCQUQsYUFBU0UsUUFBYSxhQUFTLEVBdEIvQkMsRUF1QlNHLGFBQWN6QixRQUFTLGNBQVksRUF0QjVDbUIsRUF1QkFJLGFBQVdGLFFBQWEsYUFBUyxFQXRCakNGLEVBdUJBSSxZQUFXRSxVQUFjZCxRQUFBQSxLQXRCekJZLEVBdUJBRyxhQUFVTCxRQUFhLGdCQUFTLEVBdEJoQ0UsRUF1QkFHLFlBQXFCZixlQUNwQkEsUUFBZUMsU0FBUSxFQUFTLE1BdkJqQ2MsRUF3QkFKLGFBQWNNLFFBQU9MLGNBQVlHLEVBdkJqQ0EsRUF3QktFLFlBdkJKakIsZUF3QlFpQixRQUFXLFNBQUMsRUFBQTVCLFVBQUFFLFFBQUFLLEtBQUEsS0FDdEJlLEVBQUFNLE9BQUFMLEVBQUFHLENBQUEsRUFFQU4sRUFBSVQsT0FBQUEsRUFBZUMsQ0FBZ0IsRUF4QmxDbEIsU0F5Qk0wQixPQUFPL0IsQ0FBQUEsR0FHZXNDLE9BQTVCaEIsZUFBZ0JDLFFBQUd2QixRQUFTc0MsSUFDdEJELEVBQUFBLFNBQVlyQyxjQUFTc0MsSUFBQUEsRUFFM0JQLEVBQWtCL0IsU0FBU3NDLGNBQWMsS0FBQSxFQUN6Q0wsRUFBYWpDLFNBQUNnQyxjQUFzQixHQUFBLEVBQ3BDRixFQUFTRSxTQUFhTSxjQUFTLEdBQUEsRUFDL0JSLEVBQVNNLFNBQWN6QixjQUFVSSxHQUFPTCxFQXhCeENxQixFQTBCQUcsYUFBV0UsUUFBVyxhQUFHZCxFQXpCekJXLEVBMEJVRCxhQUFhLFFBQVMsY0FBYyxFQXpCOUNGLEVBMEJBTyxhQUFVRCxRQUNUZCxhQUFlQyxFQTFCaEJPLEVBMkJBRyxZQUFjTSxVQUFPTCxPQUFZRyxLQTFCakNILEVBMkJLSyxhQUFPVCxRQUFVRyxnQkFBYyxFQTFCcENDLEVBMkJTSyxZQUFZakIsZUFBQUMsUUFBQSxRQUFBLEVBQUEsTUFDdEJjLEVBQUFMLGFBQUEsUUFBQSxjQUFBLEVBRUFLLEVBQUlmLFlBM0JGQSxlQTRCWXRCLFFBQVNzQyxRQUFBQSxFQUFBQSxVQUFtQnhCLE9BQUFJLEtBQUEsS0EzQnpDZSxFQTRCTUEsT0FBYUMsRUFBWUksQ0FBQUEsRUEzQi9CUCxFQTRCQVEsT0FBTVQsRUFBVzlCLENBQVNzQyxFQTNCMUJqQyxTQTRCTTZCLE9BQUFBLENBQVUsR0FJb0IsT0FBcENELGVBQWNELFFBQUFBLFFBQWEsSUFDM0JGLEVBQVNFLFNBQUFBLGNBQXNCLElBQUEsRUFDL0JGLEVBQVNNLFNBQWN6QixjQUFVSyxLQUFZTixFQUM3Q3dCLEVBQVdGLFNBQUFBLGNBQXNCLEdBQUEsRUFDakNFLEVBQVdFLFNBQVdFLGNBQUdoQixHQUFlQyxFQUN4Q2MsRUFBVUwsU0FBYU0sY0FBUyxHQUFBLEVBM0JoQ1AsRUE4QkFFLGFBQWNNLFFBQU9MLGFBQVlHLEVBN0JqQ0osRUE4QktNLGFBQWUsUUFBRU4sY0FBYyxFQTdCcENILEVBOEJBekIsYUFBZ0IwQixRQUFLLGFBQUEsRUFDdEJELEVBQUFNLFlBQUF6QixVQUFBSSxPQUFBTCxLQUVBd0IsRUFBSVosYUFBZUMsUUFBYyxnQkFBVyxFQTlCM0NXLEVBK0JNSCxZQUFnQk8sZUFBY2YsUUFBSyxRQUFBLEVBQUEsTUE5QnpDYyxFQStCTUosYUFBYSxRQUFXLGNBQWMsRUE5QjVDSSxFQStCTVAsWUE5QkxSLGVBK0JLWSxRQUFhbEMsUUFBU3NDLEVBQUFBLFVBQWN2QixPQUFJRyxLQUFBLEtBOUI5Q2UsRUErQk1JLE9BQVlyQyxFQUFTc0MsQ0FBYSxFQTlCeENQLEVBZ0NBQSxPQUFLQyxFQUFhQyxDQUFTLEVBL0IzQjVCLFNBZ0NBNEIsT0FBQUEsQ0FBY0QsR0FHbUIsT0FBakNFLGVBQVdGLFFBQUFBLFlBQXNCLElBQ2pDRSxFQUFBQSxTQUFXRSxjQUFjZCxJQUFBQSxFQUN6QmUsRUFBVUwsU0FBYU0sY0FBUyxLQUFjLEVBQzlDRCxFQUFVRCxTQUFXRSxjQUNwQmhCLEdBQWVDLEVBQ2hCVSxFQUFjTSxTQUFPTCxjQUFZRyxHQUFBQSxFQUNqQ04sRUFBWUQsU0FBUVEsY0FBRUwsR0FBYyxFQUVyQ0YsRUFBQUMsYUFBQSxRQUFBLGFBQUEsRUFFQUMsRUFBSVgsYUFBdUIsUUFBUSxjQUFXLEVBakM3Q1EsRUFrQ01DLGFBQU8vQixRQUFTc0MsYUFBbUIsRUFqQ3pDUixFQWtDTUcsWUFBYXRCLFVBQVkyQixZQUFBQSxLQWpDL0JKLEVBa0NNSixhQUFXOUIsUUFBU3NDLGdCQUFrQixFQWpDNUNKLEVBa0NNQSxZQUFhbEMsZUFBU3NDLFFBQWtCLFlBQUEsRUFBQSxNQWpDOUNELEVBa0NNQSxhQUFZckMsUUFBU3NDLGNBQWlCLEVBakM1Q0QsRUFtQ0tMLFlBbENKVixlQW1DRFcsUUFBY0QsYUFBYSxFQUFTckIsVUFBQUssWUFBZUUsS0FBQSxLQWxDbkRlLEVBbUNTRCxPQUFBQSxFQUFvQkssQ0FBRSxFQWxDL0JOLEVBbUNBRCxPQUFRQSxFQUFDTSxDQUFjekIsRUFsQ3ZCTixTQW1DQTZCLE9BQVdGLENBQUFBLEdBSVZWLE9BRERlLGVBQVVELFFBQVcsS0FDcEJkLElBQ0RXLEVBQUFBLFNBQWNNLGNBQU9MLElBQVlHLEVBQ2pDTixFQUFZRCxTQUFVRyxjQUFjLEtBQUEsRUFDcEM1QixFQUFlTCxTQUFNc0MsY0FBQSxHQUFBLEVBQ3RCSixFQUFBbEMsU0FBQXNDLGNBQUEsR0FBQSxFQUVBRSxFQUFZeEMsU0FBQXNDLGNBQUEsR0FBQSxFQUVaUCxFQUFBQyxhQUFBLFFBQUEsYUFBQSxFQUVEQyxFQUFnQkQsYUFBVlEsUUFBVSxjQUFTLEVBQ3hCbEMsRUFBQUEsYUFBZW1DLFFBQWdCLGFBQVUsRUFDekNYLEVBQUFNLFlBQUF6QixVQUFBTSxJQUFBUCxLQUVEd0IsRUFBTVEsYUFBaUIsUUFBakJBLGdCQUF1QixFQUM1QlIsRUFBSWhDLFlBQVlrQyxlQUFtQmIsUUFBQSxLQUFBLEVBQUEsTUF0Q2xDYyxFQXVDTU0sYUFBVzNDLFFBQVNDLGNBQWlCLEVBdEMzQ29DLEVBdUNTRCxZQXRDUmQsZUF1Q1dDLFFBQUEsS0FBQSxFQUFBWixVQUFBTSxJQUFBQyxLQUFBLEtBdENaZSxFQXdDU1csT0FBUVYsRUFBS0csQ0FBSyxFQXZDM0JOLEVBd0NDYyxPQUFRZixFQUFVQyxDQUFLSyxFQXZDeEIvQixTQXdDRWtDLE9BQUFSLENBQUEsR0FJRixPQUFBVCxlQUFBQyxRQUFBLE9BQUEsSUFDQWQsRUFBV1QsU0FBQ29DLGNBQXFCLElBQUksRUFDdENILEVBQUFqQyxTQUFBc0MsY0FBQSxLQUFBLEVBQ0FSLEVBQUE5QixTQUFBc0MsY0FBQSxHQUFBLEVBRU9KLEVBQVNsQyxTQUFJc0MsY0FBSyxHQUFBLEVBQ3JCSCxFQUFBQSxTQUFpQkcsY0FBb0IsR0FBQSxFQUUxQ2xDLEVBQU80QixhQUFDRyxRQUFpQixhQUFTTixFQUNsQ3RCLEVBQVM0QixhQUFpQixRQUFTSyxjQUFXLEVBRTlDZCxFQUFXTSxhQUFFLFFBQUEsYUFBQSxFQTFDWEYsRUFBU00sWUFBY3pCLFVBQVVRLE1BQU1ULEtBQ3ZDd0IsRUFBV0YsYUFBYSxRQUFTLGdCQUFnQixFQUNqREUsRUFBV0UsWUFBY2QsZUFBZUMsUUFBUSxPQUFPLEVBQUksTUFDM0RjLEVBQVVMLGFBQWEsUUFBUyxjQUFjLEVBQzlDSyxFQUFVRCxZQUNUZCxlQUFlQyxRQUFRLE9BQU8sRUFBSVosVUFBVW1DLE9BQU81QixLQUFPLEtBQzNEZSxFQUFjTSxPQUFPTCxFQUFZRyxDQUFTLEVBQzFDTixFQUFLUSxPQUFPVCxFQUFVRyxDQUFhLEVBQ25DNUIsU0FBU2tDLE9BQU9SLENBQUksR0FHckJTLFdBQVcsRUFDWEUsZUFBZSxDQUNoQixFQUVNRixXQUFhLFdBQ2xCbEMsZUFBZW1DLFVBQVVNLE9BQU8sUUFBUSxDQUN6QyxFQUVNTCxlQUFpQixXQUN0QixHQUFnQyxJQUE1QnhDLFlBQVlrQyxZQUFtQixDQUNsQyxJQUFNTyxFQUFXM0MsU0FBU0MsaUJBQWlCLGVBQWUsRUFDcEQ0QyxFQUFNLEdBQ1IzQixFQUFPLEVBRVh5QixFQUFTQyxRQUFRLFNBQUNiLEdBQ2pCYyxFQUFJRyxLQUFLcEIsU0FBU0csRUFBS0ssWUFBWWEsTUFBTSxFQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDakQsQ0FBQyxFQUVELElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJTCxFQUFJTSxPQUFRRCxDQUFDLEdBQ2hDaEMsR0FBYzJCLEVBQUlLLEdBRW5CekMsWUFBWTJCLFlBQWNsQixFQUFPLElBQ2xDLENBQ0QsRUFFQW5CLFNBQVM2QyxRQUFRLFNBQUNRLEdBQ2pCQSxFQUFJakIsaUJBQWlCLFFBQVNmLFVBQVUsQ0FDekMsQ0FBQyxFQUNEaEIsUUFBUStCLGlCQUFpQixRQUFTTixXQUFXLEVBQzdDdEIsU0FBUzRCLGlCQUFpQixRQUFTSyxVQUFVLEVBRTdDZCxZQUFZIiwiZmlsZSI6Im1lbnUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3JkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnVfX2J0blwiKTtcclxuY29uc3Qgb3JkZXJBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyX19hbW91bnRcIik7XHJcbmNvbnN0IGNhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyX19idG5cIik7XHJcbmNvbnN0IGNhcnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcmRlcl9fbGlzdFwiKTtcclxuY29uc3Qgb3JkZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyXCIpO1xyXG5jb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3JkZXJfX2Nsb3NlXCIpO1xyXG5jb25zdCB2YWx1ZU9mQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3JkZXJfX21vbmV5XCIpO1xyXG5jb25zdCBldmVyeUZvb2QgPSB7XHJcblx0bWFyZ2hlcml0YToge1xyXG5cdFx0bmFtZTogXCJNYXJnaGVyaXRhXCIsXHJcblx0XHRjb3N0OiAxOCxcclxuXHR9LFxyXG5cdGRpYWJlbHNrYToge1xyXG5cdFx0bmFtZTogXCJEaWFiZWxza2FcIixcclxuXHRcdGNvc3Q6IDI0LFxyXG5cdH0sXHJcblx0d2llanNrYToge1xyXG5cdFx0bmFtZTogXCJXaWVqc2thXCIsXHJcblx0XHRjb3N0OiAyMCxcclxuXHR9LFxyXG5cdHNlcm93YToge1xyXG5cdFx0bmFtZTogXCJTZXJvd2FcIixcclxuXHRcdGNvc3Q6IDE5LFxyXG5cdH0sXHJcblx0ZnJ5dGtpOiB7XHJcblx0XHRuYW1lOiBcIkZyeXRraVwiLFxyXG5cdFx0Y29zdDogMTIsXHJcblx0fSxcclxuXHR6aWVtbmlhY3praToge1xyXG5cdFx0bmFtZTogXCJaaWVtbmlhY3praVwiLFxyXG5cdFx0Y29zdDogMTMsXHJcblx0fSxcclxuXHRzb3M6IHtcclxuXHRcdG5hbWU6IFwiU29zIGN6b3Nua293eSwga2VjenVwXCIsXHJcblx0XHRjb3N0OiAyLFxyXG5cdH0sXHJcblx0bmFwb2o6IHtcclxuXHRcdG5hbWU6IFwiTmFww7NqXCIsXHJcblx0XHRjb3N0OiA4LFxyXG5cdH0sXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhZGRUb09yZGVyKCkge1xyXG5cdHN3aXRjaCAocGFyc2VJbnQodGhpcy5pZCkpIHtcclxuXHRcdGNhc2UgMTpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpID09PSBudWxsKSB7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk1hcmdoZXJpdGFcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIik7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk1hcmdoZXJpdGFcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgMjpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgPT09IG51bGwpIHtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiRGlhYmVsc2thXCIsIDEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkRpYWJlbHNrYVwiKTtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiRGlhYmVsc2thXCIsIHBhcnNlSW50KGN1cnJlbnRBbW91bnQpICsgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDM6XHJcblx0XHRcdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJXaWVqc2thXCIsIDEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEFtb3VudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJXaWVqc2thXCIsIHBhcnNlSW50KGN1cnJlbnRBbW91bnQpICsgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDQ6XHJcblx0XHRcdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpID09PSBudWxsKSB7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlNlcm93YVwiLCAxKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEFtb3VudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTZXJvd2FcIik7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlNlcm93YVwiLCBwYXJzZUludChjdXJyZW50QW1vdW50KSArIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSA1OlxyXG5cdFx0XHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJGcnl0a2lcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRBbW91bnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRnJ5dGtpXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJGcnl0a2lcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgNjpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJaaWVtbmFjemtpXCIpID09PSBudWxsKSB7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlppZW1uYWN6a2lcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlppZW1uYWN6a2lcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlppZW1uYWN6a2lcIik7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlppZW1uYWN6a2lcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgNzpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgPT09IG51bGwpIHtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiU29zXCIsIDEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKTtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiU29zXCIsIHBhcnNlSW50KGN1cnJlbnRBbW91bnQpICsgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDg6XHJcblx0XHRcdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTmFwb2pcIikgPT09IG51bGwpIHtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiTmFwb2pcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEFtb3VudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJOYXBvalwiKTtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiTmFwb2pcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdGNoZWNrQW1vdW50KCk7XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQW1vdW50ID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnQgPSAwO1xyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikgIT09IG51bGwpIHtcclxuXHRcdGFtb3VudCA9IGFtb3VudCArIHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpKTtcclxuXHR9XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRGlhYmVsc2thXCIpICE9PSBudWxsKSB7XHJcblx0XHRhbW91bnQgPSBhbW91bnQgKyBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRGlhYmVsc2thXCIpKTtcclxuXHR9XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIldpZWpza2FcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTZXJvd2FcIikgIT09IG51bGwpIHtcclxuXHRcdGFtb3VudCA9IGFtb3VudCArIHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTZXJvd2FcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJGcnl0a2lcIikgIT09IG51bGwpIHtcclxuXHRcdGFtb3VudCA9IGFtb3VudCArIHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJGcnl0a2lcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJaaWVtbmFjemtpXCIpICE9PSBudWxsKSB7XHJcblx0XHRhbW91bnQgPSBhbW91bnQgKyBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5hY3praVwiKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpICE9PSBudWxsKSB7XHJcblx0XHRhbW91bnQgPSBhbW91bnQgKyBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTmFwb2pcIikpO1xyXG5cdH1cclxuXHJcblx0b3JkZXJBbW91bnQudGV4dENvbnRlbnQgPSBhbW91bnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVJdGVtcyA9ICgpID0+IHtcclxuXHRjb25zdCBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm9yZGVyX19pdGVtXCIpO1xyXG5cclxuXHRsaXN0SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5yZW1vdmUoKTtcclxuXHR9KTtcclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpICE9PSBudWxsKSB7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19pdGVtXCIpO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19yaWdodFwiKTtcclxuXHRcdGl0ZW1OYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX25hbWVcIik7XHJcblx0XHRpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2ZXJ5Rm9vZC5tYXJnaGVyaXRhLm5hbWU7XHJcblx0XHRpdGVtQW1vdW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2hvd21hbnlcIik7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikgKiBldmVyeUZvb2QubWFyZ2hlcml0YS5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkRpYWJlbHNrYVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QuZGlhYmVsc2thLm5hbWU7XHJcblx0XHRpdGVtQW1vdW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2hvd21hbnlcIik7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkRpYWJlbHNrYVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRGlhYmVsc2thXCIpICogZXZlcnlGb29kLmRpYWJlbHNrYS5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIldpZWpza2FcIikgIT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBpdGVtUmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtQW1vdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2l0ZW1cIik7XHJcblx0XHRpdGVtUmlnaHRTaWRlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3JpZ2h0XCIpO1xyXG5cdFx0aXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fbmFtZVwiKTtcclxuXHRcdGl0ZW1OYW1lLnRleHRDb250ZW50ID0gZXZlcnlGb29kLndpZWpza2EubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSAqIGV2ZXJ5Rm9vZC53aWVqc2thLmNvc3QgKyBcInrFglwiO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5hcHBlbmQoaXRlbUFtb3VudCwgaXRlbVByaWNlKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1OYW1lLCBpdGVtUmlnaHRTaWRlKTtcclxuXHRcdGNhcnRMaXN0LmFwcGVuZChpdGVtKTtcclxuXHR9XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpICE9PSBudWxsKSB7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19pdGVtXCIpO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19yaWdodFwiKTtcclxuXHRcdGl0ZW1OYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX25hbWVcIik7XHJcblx0XHRpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2ZXJ5Rm9vZC5zZXJvd2EubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpICsgXCJzenRcIjtcclxuXHRcdGl0ZW1QcmljZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19wcmljZVwiKTtcclxuXHRcdGl0ZW1QcmljZS50ZXh0Q29udGVudCA9XHJcblx0XHRcdHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTZXJvd2FcIikgKiBldmVyeUZvb2Quc2Vyb3dhLmNvc3QgKyBcInrFglwiO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5hcHBlbmQoaXRlbUFtb3VudCwgaXRlbVByaWNlKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1OYW1lLCBpdGVtUmlnaHRTaWRlKTtcclxuXHRcdGNhcnRMaXN0LmFwcGVuZChpdGVtKTtcclxuXHR9XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRnJ5dGtpXCIpICE9PSBudWxsKSB7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19pdGVtXCIpO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19yaWdodFwiKTtcclxuXHRcdGl0ZW1OYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX25hbWVcIik7XHJcblx0XHRpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2ZXJ5Rm9vZC5mcnl0a2kubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRnJ5dGtpXCIpICsgXCJzenRcIjtcclxuXHRcdGl0ZW1QcmljZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19wcmljZVwiKTtcclxuXHRcdGl0ZW1QcmljZS50ZXh0Q29udGVudCA9XHJcblx0XHRcdHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJGcnl0a2lcIikgKiBldmVyeUZvb2QuZnJ5dGtpLmNvc3QgKyBcInrFglwiO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5hcHBlbmQoaXRlbUFtb3VudCwgaXRlbVByaWNlKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1OYW1lLCBpdGVtUmlnaHRTaWRlKTtcclxuXHRcdGNhcnRMaXN0LmFwcGVuZChpdGVtKTtcclxuXHR9XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5hY3praVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QuemllbW5pYWN6a2kubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5hY3praVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5pYWN6a2lcIikgKiBldmVyeUZvb2QuemllbW5pYWN6a2kuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgIT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBpdGVtUmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtQW1vdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2l0ZW1cIik7XHJcblx0XHRpdGVtUmlnaHRTaWRlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3JpZ2h0XCIpO1xyXG5cdFx0aXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fbmFtZVwiKTtcclxuXHRcdGl0ZW1OYW1lLnRleHRDb250ZW50ID0gZXZlcnlGb29kLnNvcy5uYW1lO1xyXG5cdFx0aXRlbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19ob3dtYW55XCIpO1xyXG5cdFx0aXRlbUFtb3VudC50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSAqIGV2ZXJ5Rm9vZC5zb3MuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJOYXBvalwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QubmFwb2oubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTmFwb2pcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpICogZXZlcnlGb29kLm5hcG9qZy5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHR0b2dnbGVDYXJ0KCk7XHJcblx0c2V0VmFsdWVPZkNhcnQoKTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUNhcnQgPSAoKSA9PiB7XHJcblx0b3JkZXJDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFZhbHVlT2ZDYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChvcmRlckFtb3VudC50ZXh0Q29udGVudCAhPT0gMCkge1xyXG5cdFx0Y29uc3QgYWxsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm9yZGVyX19wcmljZVwiKTtcclxuXHRcdGNvbnN0IHN1bSA9IFtdO1xyXG5cdFx0bGV0IGNvc3QgPSAwO1xyXG5cclxuXHRcdGFsbEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0c3VtLnB1c2gocGFyc2VJbnQoaXRlbS50ZXh0Q29udGVudC5zbGljZSgwLCAtMikpKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3VtLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvc3QgPSBjb3N0ICsgc3VtW2ldO1xyXG5cdFx0fVxyXG5cdFx0dmFsdWVPZkNhcnQudGV4dENvbnRlbnQgPSBjb3N0ICsgXCJ6xYJcIjtcclxuXHR9XHJcbn07XHJcblxyXG5vcmRlckJ0bi5mb3JFYWNoKChidG4pID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZFRvT3JkZXIpO1xyXG59KTtcclxuY2FydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlSXRlbXMpO1xyXG5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlQ2FydCk7XHJcblxyXG5jaGVja0Ftb3VudCgpO1xyXG4iXX0=
