"use strict";var orderBtn=document.querySelectorAll(".menu__btn"),orderAmount=document.querySelector(".order__amount"),cartBtn=document.querySelector(".order__btn"),cartList=document.querySelector(".order__list"),orderContainer=document.querySelector(".order"),closeBtn=document.querySelector(".order__close"),valueOfCart=document.querySelector(".order__money"),paymentItem=document.querySelectorAll(".order__paymentitem"),endText=document.querySelector(".order__end"),paymentList=document.querySelector(".order__paymentlist"),nextBtn=document.querySelector(".order__next"),everyFood={margherita:{name:"Margherita",cost:18},diabelska:{name:"Diabelska",cost:24},wiejska:{name:"Wiejska",cost:20},serowa:{name:"Serowa",cost:19},frytki:{name:"Frytki",cost:12},ziemniaczki:{name:"Ziemniaczki",cost:13},sos:{name:"Sos czosnkowy, keczup",cost:2},napoj:{name:"Napój",cost:8}};function addToOrder(){switch(parseInt(this.id)){case 1:null===sessionStorage.getItem("Margherita")?sessionStorage.setItem("Margherita",1):null!==sessionStorage.getItem("Margherita")&&(e=sessionStorage.getItem("Margherita"),sessionStorage.setItem("Margherita",parseInt(e)+1));break;case 2:null===sessionStorage.getItem("Diabelska")?sessionStorage.setItem("Diabelska",1):null!==sessionStorage.getItem("Diabelska")&&(e=sessionStorage.getItem("Diabelska"),sessionStorage.setItem("Diabelska",parseInt(e)+1));break;case 3:null===sessionStorage.getItem("Wiejska")?sessionStorage.setItem("Wiejska",1):null!==sessionStorage.getItem("Wiejska")&&(e=sessionStorage.getItem("Wiejska"),sessionStorage.setItem("Wiejska",parseInt(e)+1));break;case 4:null===sessionStorage.getItem("Serowa")?sessionStorage.setItem("Serowa",1):null!==sessionStorage.getItem("Serowa")&&(e=sessionStorage.getItem("Serowa"),sessionStorage.setItem("Serowa",parseInt(e)+1));break;case 5:null===sessionStorage.getItem("Frytki")?sessionStorage.setItem("Frytki",1):null!==sessionStorage.getItem("Frytki")&&(e=sessionStorage.getItem("Frytki"),sessionStorage.setItem("Frytki",parseInt(e)+1));break;case 6:null===sessionStorage.getItem("Ziemniaczki")?sessionStorage.setItem("Ziemniaczki",1):null!==sessionStorage.getItem("Ziemniaczki")&&(e=sessionStorage.getItem("Ziemniaczki"),sessionStorage.setItem("Ziemniaczki",parseInt(e)+1));break;case 7:null===sessionStorage.getItem("Sos")?sessionStorage.setItem("Sos",1):null!==sessionStorage.getItem("Sos")&&(e=sessionStorage.getItem("Sos"),sessionStorage.setItem("Sos",parseInt(e)+1));break;case 8:var e;null===sessionStorage.getItem("Napoj")?sessionStorage.setItem("Napoj",1):null!==sessionStorage.getItem("Napoj")&&(e=sessionStorage.getItem("Napoj"),sessionStorage.setItem("Napoj",parseInt(e)+1))}checkAmount()}var checkAmount=function(){var e=0;null!==sessionStorage.getItem("Margherita")&&(e+=parseInt(sessionStorage.getItem("Margherita"))),null!==sessionStorage.getItem("Diabelska")&&(e+=parseInt(sessionStorage.getItem("Diabelska"))),null!==sessionStorage.getItem("Wiejska")&&(e+=parseInt(sessionStorage.getItem("Wiejska"))),null!==sessionStorage.getItem("Serowa")&&(e+=parseInt(sessionStorage.getItem("Serowa"))),null!==sessionStorage.getItem("Frytki")&&(e+=parseInt(sessionStorage.getItem("Frytki"))),null!==sessionStorage.getItem("Ziemniaczki")&&(e+=parseInt(sessionStorage.getItem("Ziemniaczki"))),null!==sessionStorage.getItem("Sos")&&(e+=parseInt(sessionStorage.getItem("Sos"))),null!==sessionStorage.getItem("Napoj")&&(e+=parseInt(sessionStorage.getItem("Napoj"))),orderAmount.textContent=e},createItems=function(){var e,t,s,r,o;document.querySelectorAll(".order__item").forEach(function(e){e.remove()}),null!==sessionStorage.getItem("Margherita")&&(r=document.createElement("li"),o=document.createElement("div"),s=document.createElement("p"),t=document.createElement("p"),e=document.createElement("p"),r.setAttribute("class","order__item"),o.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.margherita.name,t.setAttribute("class","order__howmany"),t.textContent=sessionStorage.getItem("Margherita")+"szt",e.setAttribute("class","order__price"),e.textContent=sessionStorage.getItem("Margherita")*everyFood.margherita.cost+"zł",o.append(t,e),r.append(s,o),cartList.append(r)),null!==sessionStorage.getItem("Diabelska")&&(t=document.createElement("li"),e=document.createElement("div"),s=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p"),t.setAttribute("class","order__item"),e.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.diabelska.name,o.setAttribute("class","order__howmany"),o.textContent=sessionStorage.getItem("Diabelska")+"szt",r.setAttribute("class","order__price"),r.textContent=sessionStorage.getItem("Diabelska")*everyFood.diabelska.cost+"zł",e.append(o,r),t.append(s,e),cartList.append(t)),null!==sessionStorage.getItem("Wiejska")&&(o=document.createElement("li"),r=document.createElement("div"),s=document.createElement("p"),e=document.createElement("p"),t=document.createElement("p"),o.setAttribute("class","order__item"),r.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.wiejska.name,e.setAttribute("class","order__howmany"),e.textContent=sessionStorage.getItem("Wiejska")+"szt",t.setAttribute("class","order__price"),t.textContent=sessionStorage.getItem("Wiejska")*everyFood.wiejska.cost+"zł",r.append(e,t),o.append(s,r),cartList.append(o)),null!==sessionStorage.getItem("Serowa")&&(e=document.createElement("li"),t=document.createElement("div"),s=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),e.setAttribute("class","order__item"),t.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.serowa.name,r.setAttribute("class","order__howmany"),r.textContent=sessionStorage.getItem("Serowa")+"szt",o.setAttribute("class","order__price"),o.textContent=sessionStorage.getItem("Serowa")*everyFood.serowa.cost+"zł",t.append(r,o),e.append(s,t),cartList.append(e)),null!==sessionStorage.getItem("Frytki")&&(r=document.createElement("li"),o=document.createElement("div"),s=document.createElement("p"),t=document.createElement("p"),e=document.createElement("p"),r.setAttribute("class","order__item"),o.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.frytki.name,t.setAttribute("class","order__howmany"),t.textContent=sessionStorage.getItem("Frytki")+"szt",e.setAttribute("class","order__price"),e.textContent=sessionStorage.getItem("Frytki")*everyFood.frytki.cost+"zł",o.append(t,e),r.append(s,o),cartList.append(r)),null!==sessionStorage.getItem("Ziemniaczki")&&(t=document.createElement("li"),e=document.createElement("div"),s=document.createElement("p"),o=document.createElement("p"),r=document.createElement("p"),t.setAttribute("class","order__item"),e.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.ziemniaczki.name,o.setAttribute("class","order__howmany"),o.textContent=sessionStorage.getItem("Ziemniaczki")+"szt",r.setAttribute("class","order__price"),r.textContent=sessionStorage.getItem("Ziemniaczki")*everyFood.ziemniaczki.cost+"zł",e.append(o,r),t.append(s,e),cartList.append(t)),null!==sessionStorage.getItem("Sos")&&(o=document.createElement("li"),r=document.createElement("div"),s=document.createElement("p"),e=document.createElement("p"),t=document.createElement("p"),o.setAttribute("class","order__item"),r.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.sos.name,e.setAttribute("class","order__howmany"),e.textContent=sessionStorage.getItem("Sos")+"szt",t.setAttribute("class","order__price"),t.textContent=sessionStorage.getItem("Sos")*everyFood.sos.cost+"zł",r.append(e,t),o.append(s,r),cartList.append(o)),null!==sessionStorage.getItem("Napoj")&&(e=document.createElement("li"),t=document.createElement("div"),s=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),e.setAttribute("class","order__item"),t.setAttribute("class","order__right"),s.setAttribute("class","order__name"),s.textContent=everyFood.napoj.name,r.setAttribute("class","order__howmany"),r.textContent=sessionStorage.getItem("Napoj")+"szt",o.setAttribute("class","order__price"),o.textContent=sessionStorage.getItem("Napoj")*everyFood.napoj.cost+"zł",t.append(r,o),e.append(s,t),cartList.append(e)),cartList.classList.remove("hidden"),paymentList.classList.add("hidden"),nextBtn.classList.remove("hidden"),endText.classList.add("hidden"),toggleCart(),setValueOfCart()},toggleCart=function(){orderContainer.classList.toggle("hidden")},setValueOfCart=function(){if(0!==orderAmount.textContent){var e=document.querySelectorAll(".order__price"),t=[],s=0;e.forEach(function(e){t.push(parseInt(e.textContent.slice(0,-2)))});for(var r=0;r<t.length;r++)s+=t[r];valueOfCart.textContent=s+"zł"}},togglePayment=function(){paymentList.classList.remove("hidden"),cartList.classList.add("hidden"),nextBtn.classList.toggle("hidden")},endOfOrder=function(){paymentList.classList.add("hidden"),endText.classList.remove("hidden"),sessionStorage.removeItem("Margherita"),sessionStorage.removeItem("Diabelska"),sessionStorage.removeItem("Wiejska"),sessionStorage.removeItem("Serowa"),sessionStorage.removeItem("Frytki"),sessionStorage.removeItem("Ziemniaczki"),sessionStorage.removeItem("Sos"),sessionStorage.removeItem("Napoj"),checkAmount()};orderBtn.forEach(function(e){e.addEventListener("click",addToOrder)}),cartBtn.addEventListener("click",createItems),closeBtn.addEventListener("click",toggleCart),paymentItem.forEach(function(e){e.addEventListener("click",endOfOrder)}),nextBtn.addEventListener("click",togglePayment),checkAmount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuanMiXSwibmFtZXMiOlsib3JkZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvcmRlckFtb3VudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJ0QnRuIiwiY2FydExpc3QiLCJvcmRlckNvbnRhaW5lciIsImNsb3NlQnRuIiwidmFsdWVPZkNhcnQiLCJwYXltZW50SXRlbSIsImVuZFRleHQiLCJwYXltZW50TGlzdCIsIm1hcmdoZXJpdGEiLCJuYW1lIiwiZXZlcnlGb29kIiwiZGlhYmVsc2thIiwid2llanNrYSIsInNlcm93YSIsImZyeXRraSIsInppZW1uaWFjemtpIiwic29zIiwiY29zdCIsIm5hcG9qIiwiYWRkVG9PcmRlciIsImlkIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsImN1cnJlbnRBbW91bnQiLCJjaGVja0Ftb3VudCIsImFtb3VudCIsInBhcnNlSW50IiwiY3JlYXRlSXRlbXMiLCJpdGVtTmFtZSIsIml0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJpdGVtUmlnaHRTaWRlIiwiaXRlbUFtb3VudCIsInRleHRDb250ZW50IiwiaXRlbVByaWNlIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsIm5leHRCdG4iLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGVDYXJ0Iiwic2V0VmFsdWVPZkNhcnQiLCJhbGxJdGVtcyIsInNsaWNlIiwic3VtIiwibGVuZ3RoIiwidG9nZ2xlUGF5bWVudCIsImVuZE9mT3JkZXIiLCJyZW1vdmVJdGVtIiwiYWRkIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGUiLCJwdXNoIiwiaSIsImJ0biJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsU0FBV0MsU0FBU0MsaUJBQWlCLFlBQVksRUFDakRDLFlBQWNGLFNBQVNHLGNBQWMsZ0JBQWdCLEVBRHJESixRQUFXQyxTQUFTQyxjQUFBQSxhQUFpQixFQUNyQ0MsU0FBV0YsU0FBV0csY0FBYyxjQUFDLEVBQ3JDQyxl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akNsQixlQUFlNEIsV0FBVyxZQUFZLEVBQ3RDNUIsZUFBZTRCLFdBQVcsV0FBVyxFQUNyQzVCLGVBQWU0QixXQUFXLFNBQVMsRUFDbkM1QixlQUFlNEIsV0FBVyxRQUFRLEVBQ2xDNUIsZUFBZTRCLFdBQVcsUUFBUSxFQUNsQzVCLGVBQWU0QixXQUFXLGFBQWEsRUFDdkM1QixlQUFlNEIsV0FBVyxLQUFLLEVBQy9CNUIsZUFBZTRCLFdBQVcsT0FBTyxFQUVqQ3hCLFlBQVksQ0FDYixFQUVBOUIsU0FBU3dELFFBQVEsU0FBQ0ssR0FDakJBLEVBQUlKLGlCQUFpQixRQUFTakMsVUFBVSxDQUN6QyxDQUFDLEVBQ0RuQixRQUFRb0QsaUJBQWlCLFFBQVN4QixXQUFXLEVBQzdDekIsU0FBU2lELGlCQUFpQixRQUFTWCxVQUFVLEVBQzdDcEMsWUFBWThDLFFBQVEsU0FBQ3JCLEdBQ3BCQSxFQUFLc0IsaUJBQWlCLFFBQVNKLFVBQVUsQ0FDMUMsQ0FBQyxFQUNEVixRQUFRYyxpQkFBaUIsUUFBU0wsYUFBYSxFQUUvQ3RCLFlBQVkiLCJmaWxlIjoibWVudS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWVudV9fYnRuXCIpO1xyXG5jb25zdCBvcmRlckFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3JkZXJfX2Ftb3VudFwiKTtcclxuY29uc3QgY2FydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3JkZXJfX2J0blwiKTtcclxuY29uc3QgY2FydExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyX19saXN0XCIpO1xyXG5jb25zdCBvcmRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3JkZXJcIik7XHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcmRlcl9fY2xvc2VcIik7XHJcbmNvbnN0IHZhbHVlT2ZDYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcmRlcl9fbW9uZXlcIik7XHJcbmNvbnN0IHBheW1lbnRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vcmRlcl9fcGF5bWVudGl0ZW1cIik7XHJcbmNvbnN0IGVuZFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyX19lbmRcIik7XHJcbmNvbnN0IHBheW1lbnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcmRlcl9fcGF5bWVudGxpc3RcIik7XHJcbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9yZGVyX19uZXh0XCIpO1xyXG5jb25zdCBldmVyeUZvb2QgPSB7XHJcblx0bWFyZ2hlcml0YToge1xyXG5cdFx0bmFtZTogXCJNYXJnaGVyaXRhXCIsXHJcblx0XHRjb3N0OiAxOCxcclxuXHR9LFxyXG5cdGRpYWJlbHNrYToge1xyXG5cdFx0bmFtZTogXCJEaWFiZWxza2FcIixcclxuXHRcdGNvc3Q6IDI0LFxyXG5cdH0sXHJcblx0d2llanNrYToge1xyXG5cdFx0bmFtZTogXCJXaWVqc2thXCIsXHJcblx0XHRjb3N0OiAyMCxcclxuXHR9LFxyXG5cdHNlcm93YToge1xyXG5cdFx0bmFtZTogXCJTZXJvd2FcIixcclxuXHRcdGNvc3Q6IDE5LFxyXG5cdH0sXHJcblx0ZnJ5dGtpOiB7XHJcblx0XHRuYW1lOiBcIkZyeXRraVwiLFxyXG5cdFx0Y29zdDogMTIsXHJcblx0fSxcclxuXHR6aWVtbmlhY3praToge1xyXG5cdFx0bmFtZTogXCJaaWVtbmlhY3praVwiLFxyXG5cdFx0Y29zdDogMTMsXHJcblx0fSxcclxuXHRzb3M6IHtcclxuXHRcdG5hbWU6IFwiU29zIGN6b3Nua293eSwga2VjenVwXCIsXHJcblx0XHRjb3N0OiAyLFxyXG5cdH0sXHJcblx0bmFwb2o6IHtcclxuXHRcdG5hbWU6IFwiTmFww7NqXCIsXHJcblx0XHRjb3N0OiA4LFxyXG5cdH0sXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhZGRUb09yZGVyKCkge1xyXG5cdHN3aXRjaCAocGFyc2VJbnQodGhpcy5pZCkpIHtcclxuXHRcdGNhc2UgMTpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpID09PSBudWxsKSB7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk1hcmdoZXJpdGFcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIik7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk1hcmdoZXJpdGFcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgMjpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgPT09IG51bGwpIHtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiRGlhYmVsc2thXCIsIDEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkRpYWJlbHNrYVwiKTtcclxuXHRcdFx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiRGlhYmVsc2thXCIsIHBhcnNlSW50KGN1cnJlbnRBbW91bnQpICsgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDM6XHJcblx0XHRcdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJXaWVqc2thXCIsIDEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEFtb3VudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJXaWVqc2thXCIsIHBhcnNlSW50KGN1cnJlbnRBbW91bnQpICsgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDQ6XHJcblx0XHRcdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpID09PSBudWxsKSB7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlNlcm93YVwiLCAxKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEFtb3VudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTZXJvd2FcIik7XHJcblx0XHRcdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIlNlcm93YVwiLCBwYXJzZUludChjdXJyZW50QW1vdW50KSArIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSA1OlxyXG5cdFx0XHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJGcnl0a2lcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRBbW91bnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRnJ5dGtpXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJGcnl0a2lcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgNjpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJaaWVtbmlhY3praVwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJaaWVtbmlhY3praVwiLCAxKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5pYWN6a2lcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlppZW1uaWFjemtpXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJaaWVtbmlhY3praVwiLCBwYXJzZUludChjdXJyZW50QW1vdW50KSArIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSA3OlxyXG5cdFx0XHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJTb3NcIiwgMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRBbW91bnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU29zXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJTb3NcIiwgcGFyc2VJbnQoY3VycmVudEFtb3VudCkgKyAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgODpcclxuXHRcdFx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJOYXBvalwiKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJOYXBvalwiLCAxKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTmFwb2pcIikgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50QW1vdW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpO1xyXG5cdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJOYXBvalwiLCBwYXJzZUludChjdXJyZW50QW1vdW50KSArIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tBbW91bnQoKTtcclxufVxyXG5cclxuY29uc3QgY2hlY2tBbW91bnQgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudCA9IDA7XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTWFyZ2hlcml0YVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk1hcmdoZXJpdGFcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgIT09IG51bGwpIHtcclxuXHRcdGFtb3VudCA9IGFtb3VudCArIHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpICE9PSBudWxsKSB7XHJcblx0XHRhbW91bnQgPSBhbW91bnQgKyBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiV2llanNrYVwiKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNlcm93YVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNlcm93YVwiKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlppZW1uaWFjemtpXCIpICE9PSBudWxsKSB7XHJcblx0XHRhbW91bnQgPSBhbW91bnQgKyBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5pYWN6a2lcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgIT09IG51bGwpIHtcclxuXHRcdGFtb3VudCA9IGFtb3VudCArIHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJOYXBvalwiKSAhPT0gbnVsbCkge1xyXG5cdFx0YW1vdW50ID0gYW1vdW50ICsgcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpKTtcclxuXHR9XHJcblxyXG5cdG9yZGVyQW1vdW50LnRleHRDb250ZW50ID0gYW1vdW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlSXRlbXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vcmRlcl9faXRlbVwiKTtcclxuXHJcblx0bGlzdEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0ucmVtb3ZlKCk7XHJcblx0fSk7XHJcblxyXG5cdGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTWFyZ2hlcml0YVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QubWFyZ2hlcml0YS5uYW1lO1xyXG5cdFx0aXRlbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19ob3dtYW55XCIpO1xyXG5cdFx0aXRlbUFtb3VudC50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpICsgXCJzenRcIjtcclxuXHRcdGl0ZW1QcmljZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19wcmljZVwiKTtcclxuXHRcdGl0ZW1QcmljZS50ZXh0Q29udGVudCA9XHJcblx0XHRcdHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJNYXJnaGVyaXRhXCIpICogZXZlcnlGb29kLm1hcmdoZXJpdGEuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgIT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBpdGVtUmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtQW1vdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2l0ZW1cIik7XHJcblx0XHRpdGVtUmlnaHRTaWRlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3JpZ2h0XCIpO1xyXG5cdFx0aXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fbmFtZVwiKTtcclxuXHRcdGl0ZW1OYW1lLnRleHRDb250ZW50ID0gZXZlcnlGb29kLmRpYWJlbHNrYS5uYW1lO1xyXG5cdFx0aXRlbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19ob3dtYW55XCIpO1xyXG5cdFx0aXRlbUFtb3VudC50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJEaWFiZWxza2FcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkRpYWJlbHNrYVwiKSAqIGV2ZXJ5Rm9vZC5kaWFiZWxza2EuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJXaWVqc2thXCIpICE9PSBudWxsKSB7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19pdGVtXCIpO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19yaWdodFwiKTtcclxuXHRcdGl0ZW1OYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX25hbWVcIik7XHJcblx0XHRpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2ZXJ5Rm9vZC53aWVqc2thLm5hbWU7XHJcblx0XHRpdGVtQW1vdW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2hvd21hbnlcIik7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIldpZWpza2FcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIldpZWpza2FcIikgKiBldmVyeUZvb2Qud2llanNrYS5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNlcm93YVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2Quc2Vyb3dhLm5hbWU7XHJcblx0XHRpdGVtQW1vdW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2hvd21hbnlcIik7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNlcm93YVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiU2Vyb3dhXCIpICogZXZlcnlGb29kLnNlcm93YS5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QuZnJ5dGtpLm5hbWU7XHJcblx0XHRpdGVtQW1vdW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2hvd21hbnlcIik7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIkZyeXRraVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiRnJ5dGtpXCIpICogZXZlcnlGb29kLmZyeXRraS5jb3N0ICsgXCJ6xYJcIjtcclxuXHRcdGl0ZW1SaWdodFNpZGUuYXBwZW5kKGl0ZW1BbW91bnQsIGl0ZW1QcmljZSk7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtTmFtZSwgaXRlbVJpZ2h0U2lkZSk7XHJcblx0XHRjYXJ0TGlzdC5hcHBlbmQoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlppZW1uaWFjemtpXCIpICE9PSBudWxsKSB7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19pdGVtXCIpO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19yaWdodFwiKTtcclxuXHRcdGl0ZW1OYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX25hbWVcIik7XHJcblx0XHRpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2ZXJ5Rm9vZC56aWVtbmlhY3praS5uYW1lO1xyXG5cdFx0aXRlbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19ob3dtYW55XCIpO1xyXG5cdFx0aXRlbUFtb3VudC50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJaaWVtbmlhY3praVwiKSArIFwic3p0XCI7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPVxyXG5cdFx0XHRzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiWmllbW5pYWN6a2lcIikgKiBldmVyeUZvb2QuemllbW5pYWN6a2kuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgIT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBpdGVtUmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtQW1vdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX2l0ZW1cIik7XHJcblx0XHRpdGVtUmlnaHRTaWRlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3JpZ2h0XCIpO1xyXG5cdFx0aXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fbmFtZVwiKTtcclxuXHRcdGl0ZW1OYW1lLnRleHRDb250ZW50ID0gZXZlcnlGb29kLnNvcy5uYW1lO1xyXG5cdFx0aXRlbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19ob3dtYW55XCIpO1xyXG5cdFx0aXRlbUFtb3VudC50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJTb3NcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlNvc1wiKSAqIGV2ZXJ5Rm9vZC5zb3MuY29zdCArIFwiesWCXCI7XHJcblx0XHRpdGVtUmlnaHRTaWRlLmFwcGVuZChpdGVtQW1vdW50LCBpdGVtUHJpY2UpO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbU5hbWUsIGl0ZW1SaWdodFNpZGUpO1xyXG5cdFx0Y2FydExpc3QuYXBwZW5kKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0aWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJOYXBvalwiKSAhPT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IGl0ZW1SaWdodFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faXRlbVwiKTtcclxuXHRcdGl0ZW1SaWdodFNpZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9fcmlnaHRcIik7XHJcblx0XHRpdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm9yZGVyX19uYW1lXCIpO1xyXG5cdFx0aXRlbU5hbWUudGV4dENvbnRlbnQgPSBldmVyeUZvb2QubmFwb2oubmFtZTtcclxuXHRcdGl0ZW1BbW91bnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcmRlcl9faG93bWFueVwiKTtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiTmFwb2pcIikgKyBcInN6dFwiO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib3JkZXJfX3ByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5hcG9qXCIpICogZXZlcnlGb29kLm5hcG9qLmNvc3QgKyBcInrFglwiO1xyXG5cdFx0aXRlbVJpZ2h0U2lkZS5hcHBlbmQoaXRlbUFtb3VudCwgaXRlbVByaWNlKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1OYW1lLCBpdGVtUmlnaHRTaWRlKTtcclxuXHRcdGNhcnRMaXN0LmFwcGVuZChpdGVtKTtcclxuXHR9XHJcblxyXG5cdGNhcnRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0cGF5bWVudExpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRuZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0ZW5kVGV4dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHR0b2dnbGVDYXJ0KCk7XHJcblx0c2V0VmFsdWVPZkNhcnQoKTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUNhcnQgPSAoKSA9PiB7XHJcblx0b3JkZXJDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFZhbHVlT2ZDYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChvcmRlckFtb3VudC50ZXh0Q29udGVudCAhPT0gMCkge1xyXG5cdFx0Y29uc3QgYWxsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm9yZGVyX19wcmljZVwiKTtcclxuXHRcdGNvbnN0IHN1bSA9IFtdO1xyXG5cdFx0bGV0IGNvc3QgPSAwO1xyXG5cclxuXHRcdGFsbEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0c3VtLnB1c2gocGFyc2VJbnQoaXRlbS50ZXh0Q29udGVudC5zbGljZSgwLCAtMikpKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3VtLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvc3QgPSBjb3N0ICsgc3VtW2ldO1xyXG5cdFx0fVxyXG5cdFx0dmFsdWVPZkNhcnQudGV4dENvbnRlbnQgPSBjb3N0ICsgXCJ6xYJcIjtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVQYXltZW50ID0gKCkgPT4ge1xyXG5cdHBheW1lbnRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0Y2FydExpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRuZXh0QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcbn07XHJcblxyXG5jb25zdCBlbmRPZk9yZGVyID0gKCkgPT4ge1xyXG5cdHBheW1lbnRMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0ZW5kVGV4dC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiTWFyZ2hlcml0YVwiKTtcclxuXHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiRGlhYmVsc2thXCIpO1xyXG5cdHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJXaWVqc2thXCIpO1xyXG5cdHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJTZXJvd2FcIik7XHJcblx0c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcIkZyeXRraVwiKTtcclxuXHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiWmllbW5pYWN6a2lcIik7XHJcblx0c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcIlNvc1wiKTtcclxuXHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiTmFwb2pcIik7XHJcblxyXG5cdGNoZWNrQW1vdW50KClcclxufTtcclxuXHJcbm9yZGVyQnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkVG9PcmRlcik7XHJcbn0pO1xyXG5jYXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVJdGVtcyk7XHJcbmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVDYXJ0KTtcclxucGF5bWVudEl0ZW0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVuZE9mT3JkZXIpO1xyXG59KTtcclxubmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlUGF5bWVudCk7XHJcblxyXG5jaGVja0Ftb3VudCgpO1xyXG4iXX0=
